<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<title>nodejsをaptで入れたらnpmも入るようになってた | Nekoya press</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="Cache-Control" content="no-cache" />

<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.min.css" />
<link rel="stylesheet/less" type="text/css" href="/css/styles.less" />
<link href="/atom.xml" rel="alternate" title="Nekoya press" type="application/atom+xml" />

<link rel="canonical" href="http://nekoya.github.io/blog/2014/07/02/nodejs-deb-contains-npm/" />

<link rel="shortcut icon" href="/favicon.ico" />

<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>
<body>

<div class="container">
  <h1 id="title"><a href="/">Nekoya Press</a></h1>

    <div class="row nav">
      <div class="col-xs-4"><a href="/blog/archives/">archives</a></div>
      <div class="col-xs-4"><a href="/pages/">pages</a></div>
      <div class="col-xs-4"><a href="https://twitter.com/nekoya">@nekoya</a></div>
    </div>
</div>

<div id="content" class="container">

<div class="post">
  
  <p class="posted-at">2014-07-02 Wed 08:51</p>
  
  <h1>nodejsをaptで入れたらnpmも入るようになってた</h1>
  <div class="post-body"><p>nodeで開発はしてないけど、フロントエンドを書く時にはnpmとか必要なので何かが変わるとうろたえる情弱です。</p>
<p>Ubuntu12.04で用意されている標準パッケージは古いので、公式のリポジトリを追加して入れる。</p>
<ul>
<li><a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os"><a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os">https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os</a></a></li>
</ul>
<p>で、新しいVMを作ってセットアップしてたらnpmのインストールでコケる症状が出たのです。</p>
<pre>
$ dpkg -l | grep nodejs
ii  nodejs                          0.10.29-1chl1~precise1            Node.js event-based server-side javascript engine

$ sudo apt-get install npm
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 npm : Depends: nodejs but it is not going to be installed
       Depends: nodejs-dev
       Depends: node-request but it is not going to be installed
       Depends: node-mkdirp but it is not going to be installed
       Depends: node-minimatch but it is not going to be installed
       Depends: node-semver but it is not going to be installed
       Depends: node-ini but it is not going to be installed
       Depends: node-graceful-fs but it is not going to be installed
       Depends: node-abbrev but it is not going to be installed
       Depends: node-nopt but it is not going to be installed
       Depends: node-fstream but it is not going to be installed
       Depends: node-rimraf but it is not going to be installed
       Depends: node-tar but it is not going to be installed
       Depends: node-which but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
</pre>

<p>アイエエエエエエエ</p>
<ul>
<li><a href="https://chrislea.com/2013/03/15/upgrading-from-node-js-0-8-x-to-0-10-0-from-my-ppa/">Upgrading from Node.js 0.8.x to 0.10.0 From my PPA</a></li>
</ul>
<blockquote>
<p>Also to note is that the nodejs-dev and npm packages don’t exist anymore. The new nodejs package contains everything that these separate packages used to</p>
</blockquote>
<p>あっ、はい。うん、確かにそのままnpmって打ったら動きました。試しにコマンド叩いてみるなりすればよかったね…</p></div>
  <div class="sharing">
  <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="basic-counter" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
  <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=nodejsをaptで入れたらnpmも入るようになってた%7CNekoya press">Tweet</a>
  <div class="fb-like" data-href="http://nekoya.github.io/blog/2014/07/02/nodejs-deb-contains-npm/" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div>
</div>
</div>

</div>

<div class="container">
  <p class="credit">nekoya.github.io</p>
</div>

<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);
  t._e = [];
  t.ready = function(f) {
      t._e.push(f);
  };
  return t;
}(document, "script", "twitter-wjs"));</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.10&appId=365970713496023";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35230565-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>